<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>Sharing to a third party platform</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content="
  
"name="description"><meta content="GitBook 3.2.3"name="generator"><meta content="QuickApp.cn"name="author"><link href="../../gitbook/style.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-search-pro/search.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-highlight-hap/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"rel="stylesheet"><link href="../../styles/website.css"rel="stylesheet"><meta content="no-cache"http-equiv="Pragma"/><meta content="no-cache"http-equiv="Cache-Control"/><meta content="0"http-equiv="Expires"/><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="alipay.en.html"rel="prev"/><link href="alipay.en.html"rel="prev"/></head><body><header class="doc-header"><a href="javascript:;"class="btn doc-menu-toggle"aria-label=""><i class="fa fa-bars"aria-hidden="true"></i></a><div class="doc-logo"><a target="_blank"style="font-size:150%"title="quickapp">QuickApp</a></div><div class="doc-nav"><a href="../../">Tutorial</a> <a href="../../tools/toolkit-tools.en.html">Tools</a> <a href="../../framework/index.en.html">Framework</a> <a href="../../widgets/common-events.en.html">Widgets</a> <a href="../index.en.html"class="current">Features</a></div><div class="doc-search-bar"><div id="book-search-input"><i class="fa fa-search icon-search"aria-hidden="true"></i> <input placeholder="关键字搜索"type="text"></div></div></header><div class="doc-container"><nav class="doc-menu"role="navigation"><ul class="summary"><li class="open chapter"data-level="2.1.3.1"><a href="javascript:;">Basic functions <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.1.1"data-path="../system/app.en.html"><a href="../system/app.en.html">App context</a></li><li class="open chapter"data-level="2.1.3.1.2"data-path="../system/log.en.html"><a href="../system/log.en.html">Log printing</a></li><li class="open chapter"data-level="2.1.3.1.3"data-path="../system/router.en.html"><a href="../system/router.en.html">Page routing</a></li></ul></li><li class="open chapter"data-level="2.1.3.2"><a href="javascript:;">Interface interaction <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.2.1"data-path="../system/share.en.html"><a href="../system/share.en.html">Sharing</a></li><li class="open chapter"data-level="2.1.3.2.2"data-path="../system/prompt.en.html"><a href="../system/prompt.en.html">Pop-up window</a></li><li class="open chapter"data-level="2.1.3.2.3"data-path="../system/webview.en.html"><a href="../system/webview.en.html">Open web page</a></li><li class="open chapter"data-level="2.1.3.2.4"data-path="../system/notification.en.html"><a href="../system/notification.en.html">Notification message</a></li><li class="open chapter"data-level="2.1.3.2.5"data-path="../system/vibrator.en.html"><a href="../system/vibrator.en.html">Vibrate</a></li></ul></li><li class="open chapter"data-level="2.1.3.3"><a href="javascript:;">Network access <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.3.1"data-path="../system/request.en.html"><a href="../system/request.en.html">Uploading and downloading</a></li><li class="open chapter"data-level="2.1.3.3.2"data-path="../system/fetch.en.html"><a href="../system/fetch.en.html">Data request</a></li></ul></li><li class="open chapter"data-level="2.1.3.4"><a href="javascript:;">File data <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.4.1"data-path="../system/storage.en.html"><a href="../system/storage.en.html">Data storage</a></li><li class="open chapter"data-level="2.1.3.4.2"data-path="../system/file.en.html"><a href="../system/file.en.html">File storage</a></li></ul></li><li class="open chapter"data-level="2.1.3.5"><a href="javascript:;">System capabilities <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.5.1"data-path="../system/barcode.en.html"><a href="../system/barcode.en.html">QR codes</a></li><li class="open chapter"data-level="2.1.3.5.2"data-path="../system/sensor.en.html"><a href="../system/sensor.en.html">Sensors</a></li><li class="open chapter"data-level="2.1.3.5.3"data-path="../system/clipboard.en.html"><a href="../system/clipboard.en.html">Clipboard</a></li><li class="open chapter"data-level="2.1.3.5.4"data-path="../system/geolocation.en.html"><a href="../system/geolocation.en.html">Geographical location</a></li><li class="open chapter"data-level="2.1.3.5.5"data-path="../system/shortcut.en.html"><a href="../system/shortcut.en.html">Home screen icons</a></li><li class="open chapter"data-level="2.1.3.5.6"data-path="../system/calendar.en.html"><a href="../system/calendar.en.html">Calendar events</a></li><li class="open chapter"data-level="2.1.3.5.7"data-path="../system/network.en.html"><a href="../system/network.en.html">Network status</a></li><li class="open chapter"data-level="2.1.3.5.8"data-path="../system/device.en.html"><a href="../system/device.en.html">Device information</a></li></ul></li><li class="open chapter"data-level="2.1.3.6"><a href="javascript:;">Graphics <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.6.1"data-path="../system/media.en.html"><a href="../system/media.en.html">Multimedia</a></li></ul></li><li class="open chapter"data-level="2.1.3.7"><a href="javascript:;">Vendor services <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.7.1"data-path="push.en.html"><a href="push.en.html">Push</a></li><li class="open chapter"data-level="2.1.3.7.2"data-path="pay.en.html"><a href="pay.en.html">Payments</a></li></ul></li><li class="open open chapter"data-level="2.1.3.8"><a href="javascript:;">Third-party services <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.8.1"data-path="wxpay.en.html"><a href="wxpay.en.html">WeChat Pay</a></li><li class="open chapter"data-level="2.1.3.8.2"data-path="alipay.en.html"><a href="alipay.en.html">Alipay</a></li><li class="open open chapter active"data-level="2.1.3.8.3"data-path="share.en.html"><a href="share.en.html">Sharing to a third party platform</a></li></ul></li></ul></nav><div class="doc-content"><div class="doc-content-inner"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><a href="#sharing-to-a-third-party-platform-101"id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="sharing-to-a-third-party-platform-101"><a href="#sharing-to-a-third-party-platform-101"class="anchor-navigation-ex-anchor"name="sharing-to-a-third-party-platform-101"><i class="fa fa-link"aria-hidden="true"></i></a>Sharing to a third party platform <code>101+</code></h1><h2 id="interface-declaration"><a href="#interface-declaration"class="anchor-navigation-ex-anchor"name="interface-declaration"><i class="fa fa-link"aria-hidden="true"></i></a>Interface declaration</h2><pre><code>{"name": "service.share","params": {"appSign": "abcdefg...","qqKey":"1234567","wxKey":"wx1234","sinaKey":"1234"}}
</code></pre><h2 id="import-module"><a href="#import-module"class="anchor-navigation-ex-anchor"name="import-module"><i class="fa fa-link"aria-hidden="true"></i></a>Import module</h2><pre><code>import share from '@service.share' or var share = require("@service.share")
</code></pre><h2 id="interface-definition"><a href="#interface-definition"class="anchor-navigation-ex-anchor"name="interface-definition"><i class="fa fa-link"aria-hidden="true"></i></a>Interface definition</h2><h3 id="shareshareobject"><a href="#shareshareobject"class="anchor-navigation-ex-anchor"name="shareshareobject"><i class="fa fa-link"aria-hidden="true"></i></a>share.share(OBJECT)</h3><p>Content of the shared message</p><h4 id="parameters"><a href="#parameters"class="anchor-navigation-ex-anchor"name="parameters"><i class="fa fa-link"aria-hidden="true"></i></a>Parameters:</h4><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>shareType</td><td>int</td><td>Yes</td><td>Types of shared items. By default, 0 indicates the text and image, 1 - text only, 2 - image only, 3 - music, and 4 - video.</td></tr><tr><td>title</td><td>String</td><td>Types of 0, 1, 3, and 4 are required</td><td>Title of the shared message</td></tr><tr><td>summary</td><td>String</td><td>No</td><td>Summary of the shared message</td></tr><tr><td>targetUrl</td><td>String</td><td>Types of 0, 3, and 4 are required</td><td>The URL to be switched to after tapping</td></tr><tr><td>imagePath</td><td>String</td><td>Types of 2, 3, and 4 are required</td><td>Local address of shared images/thumbnails</td></tr><tr><td>mediaUrl</td><td>String</td><td>Types of 3 and 4 are required</td><td>URL of shared music/video data</td></tr><tr><td>success</td><td>Function</td><td>No</td><td>Callback succeeded (temporarily not supported)</td></tr><tr><td>fail</td><td>Function</td><td>No</td><td>Couldn't return callback</td></tr><tr><td>cancel</td><td>Function</td><td>No</td><td>Cancel callback</td></tr></tbody></table><h4 id="example："><a href="#example："class="anchor-navigation-ex-anchor"name="example："><i class="fa fa-link"aria-hidden="true"></i></a>Example：</h4><pre><code>share.share({
    shareType:0,
    title:"I'm a title",
    summary:"I'm an abstract",
    imagePath:"xxx/xxx/xxx/share.jpg",
    targetUrl:"http://www.example.com",
    success:function(data){console.log("handling success");}，
    fail: function(data, code) {
        console.log("handling fail, code=" + code);
    }
})
</code></pre><h3 id="access"><a href="#access"class="anchor-navigation-ex-anchor"name="access"><i class="fa fa-link"aria-hidden="true"></i></a>Access</h3><ol><li>To arrange access, refer to the documents of the third party platforms <a href="https://open.weixin.qq.com/"target="_blank">WeChat Open Platform</a>/<a href="http://open.qq.com/"target="_blank">Tencent Open Platform</a>/<a href="http://open.weibo.com/"target="_blank">Weibo Open Platform</a></li><li>Add a new app in the background of the third party platform, make sure its package name is consistent with that of the package in the manifest.json.</li><li>Fill the value of app signature (Obtaining appSign: Build an APK, and make sure the signature of this APK is consistent with that registered on the third party background. After you install the APK, get the appSign by <a href="AppSignGetter.apk">this tool</a>) and the app IDs that obtained from various platforms in the appSign declared by the sharing interface of the manifest.json and corresponding xxKey fields, refer to the text above.</li><li>Mobile QQ, WeChat, and Weibo sharing are supported. Can't get sharing results currently.</li><li>It's recommended to share with image & text type. Other types may not be supported on some platforms, therefore image & text type should be used for sharing.</li><li>Image sharing only supports local images</li></ol></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> 条匹配 "<span class="search-query"></span>" 的结果</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">没有搜索到与 "<span class="search-query"></span>" 相关的内容</h1></div></div></div></div></div><a href="alipay.en.html"class="navigation navigation-prev navigation-unique"aria-label="Previous page: Alipay"><i class="fa fa-angle-left"></i></a></div></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/gitbook-plugin-hap-util/plugin.js"></script><script src="../../gitbook/gitbook-plugin-nocache/nocache.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script><script>gitbook.page.hasChanged({page:{title:"Sharing to a third party platform",level:"2.1.3.8.3",depth:4,previous:{title:"Alipay",level:"2.1.3.8.2",depth:4,path:"features/service/alipay.en.md",ref:"features/service/alipay.en.md",articles:[]},dir:"ltr"},config:{plugins:["html-minifier","-sharing","-fontsettings","hap-util","favicon","theme-default","nocache","-lunr","-search","search-pro","-highlight","highlight-hap","anchor-navigation-ex"],styles:{website:"styles/website.css"},pluginsConfig:{favicon:{shortcut:"",bookmark:""},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!0,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},"anchor-navigation-ex":{associatedWithSummary:!1,float:{floatIcon:"fa fa-navicon",level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},mode:"",multipleH1:!0,pageTop:{level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},printLog:!1,showGoTop:!0,showLevel:!1},"hap-util":{},nocache:{},"search-pro":{},"highlight-hap":{},"theme-default":{showLevel:!1,styles:{ebook:"styles/ebook.css",epub:"styles/epub.css",mobi:"styles/mobi.css",pdf:"styles/pdf.css",print:"styles/print.css",website:"styles/website.css"}}},theme:"default",author:"QuickApp.cn",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},version:"{{datetime}}",title:"快应用开发文档",language:"zh-hans",gitbook:"3.2.3",description:"快应用的开发文档，供快应用开发者学习和参考"},file:{path:"features/service/share.en.md",mtime:"2020-09-23T10:05:42.000Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2021-08-05T12:05:05.723Z"},basePath:"../..",book:{language:""}}),function(){var e=location.pathname.split("/")[1];e!=(sessionStorage.getItem("indexTab")||"")&&sessionStorage.setItem("mst",0),~location.pathname.indexOf(".html")||sessionStorage.setItem("mst",0),sessionStorage.setItem("indexTab",e);var t=$(".doc-menu"),s=$(".summary");if(!(t.height()>s.height()&&0!==s.height())){t.scroll(function(){sessionStorage.setItem("mst",t.scrollTop())});var a=sessionStorage.getItem("mst")||0;t.scrollTop(a),$("ul.summary li").each(function(){var e=$(this);10<e.data("level").length&&(e.hasClass("active")?e.parent().parent().attr("class","open chapter cur"):e.parent().parent().siblings().each(function(){var e=$(this);!e.hasClass("cur")&&e.hasClass("open chapter")&&e.attr("class","chapter")}))})}}()</script></body></html>